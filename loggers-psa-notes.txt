###########################
üßæ What is Logging?
###########################

-> Logging is the process of recording the application's activity, errors, and other useful information into a file (or console). These records are called log messages.

###################################
‚úÖ Why is Logging Important?
###################################

1. Understand Application Behavior
-> Logs help you know what the application is doing at each step.

Example: ‚ÄúServer started‚Äù, ‚ÄúUser logged in‚Äù, ‚ÄúOrder placed‚Äù, etc.

2. Find Root Cause of Errors
-> If your app crashes or throws an error, the logs can show what exactly happened and where.

Example: NullPointerException at line 52 in a log tells you exactly where the code failed.

3. Debugging in Production
-> You can‚Äôt always open a code editor in a live app. But with logs, you can see what‚Äôs going wrong without stopping the app.

4. Security & Auditing
-> You can track who accessed what, which can be useful for security checks or user activity monitoring.

##############################
üí¨ Real Life Analogy
##############################

Imagine you run a delivery business. You keep a diary of:

a. Orders taken

b. Orders packed

c. Orders delivered

d. Complaints

-> Later, if a customer says, ‚ÄúI never got my package,‚Äù you check your diary (log) to find what happened. This is exactly how logs work in software.

################################################################
Logging Architecture one by one in a simple and practical way:
################################################################

üîß 1) Logger
üëâ What is it?
-> Logger is the main object used to create log messages. (It is a class)
-> It provides methods like .info(), .debug(), .error(), etc

üß© 2) Layout
üëâ What is it?
-> Layout decides how your log message looks.
-> It defines the format/structure of each log entry.

Example - 
[DATE] [LEVEL] - [MESSAGE]
2025-04-03 10:45:12 INFO - Server started successfully

üì¶ 3) Appender
üëâ What is it?
-> Appender decides where the logs go.

It could be the console, a file, a database, or even remote servers.

‚úÖ Common Types of Appenders:
a. ConsoleAppender: Logs appear on the terminal/console.
b. FileAppender: Logs are saved into a file (like app.log). Most widely used approach in projects
c. RollingFileAppender: Automatically creates new log files when size limit is reached.
d. SMTPAppender: Sends logs via email.

####################################--Note--###############################
To Analize logs file we can use tools like putty, ELK, Splunk, WinScp etc
#############################################################################

########################################
Flow of Logger how it will work:
########################################

Your Code (Logger)
    |
    v
[Log Message]
    |
    v
[Formatted by Layout]
    |
    v
[Sent to Appender (Console/File/etc)]


####################
Loggings Frameworks
####################

Framework	Used By Default in Spring boot?			
Log4j	           ‚ùå (older)	             		 
Log4j2		   ‚ùå Improved version of Log4j
Logback		   ‚úÖ Yes				
Logstash	   ‚ùå

##############################################################
‚úÖ SLF4J (Simple Logging Facade (fuh¬∑saad pronounce) for Java)
##############################################################

-> Its an interface and is been implemented in Log4J, Log4j2, Logback, 	Logstash
‚Üí This helps developers to **easily switch** between different logging implementations (like Log4j, Logback, etc.) without changing application code.	
because of slf4j it is a interface all log4j and log4j2 all have same methods so it is easy to shift from one to others 

#################################################################################
To generate log messages in file add the following in application.properties file

logging.file.name=app.log

##################################################################################   


Example 1:
#####################

import lombok.extern.slf4j.Slf4j;  //Perform import from slf4J
import org.springframework.stereotype.Service;

@Service
//@Slf4j  // Enables logging without needing explicit LoggerFactory
public class OrderService {

    private Logger log = LoggerFactory.getLogger(OrderService.class);

    public void processOrder(int orderId) {
        log.info("Processing order with ID: {}", orderId);

        if (orderId <= 0) {
          
            return;
        }

        log.debug("Checking inventory for order ID: {}", orderId);
        
        try {
            // Simulating some order processing logic
            Thread.sleep(2000);
            log.info("Order {} processed successfully!", orderId);
        } catch (InterruptedException e) {
           
        }
    }
}	

Example 2:
###########################

import lombok.extern.slf4j.Slf4j;  //Perform import from slf4J
import org.springframework.stereotype.Service;

@Service
//@Slf4j  // Enables logging without needing explicit LoggerFactory
public class OrderService {

    private Logger log = LoggerFactory.getLogger(OrderService.class);

    public void processOrder(int orderId) {
        log.info("Processing order with ID: {}", orderId);

        if (orderId <= 0) {
            log.error("Invalid order ID: {}", orderId);
            return;
        }

        log.debug("Checking inventory for order ID: {}", orderId);
        
        try {
            // Simulating some order processing logic
            Thread.sleep(2000);
            log.info("Order {} processed successfully!", orderId);
        } catch (InterruptedException e) {
            log.error("Error processing order: {}", orderId, e);
        }
    }
}	   		   

###################################
Log Levels & Their Purpose
###################################

Each log level serves a different purpose:

Log Level	Purpose
TRACE		Most detailed logs, used for debugging deep-level issues. Rarely enabled in production.
DEBUG		Debugging information useful for developers to track program flow.
INFO		General application information (e.g., "Application Started Successfully"). Default in Spring Boot.
WARN		Indications of potential issues (e.g., "Disk Space Low").
ERROR		Severe issues that may cause the application to fail. 


############################################
Example on how to implement logs in projects
###########################################


#####################
Service Layer
#####################

package com.example.demo.service;

import lombok.extern.slf4j.Slf4j;
import org.springframework.stereotype.Service;

@Service
@Slf4j
public class UserService {

    public void registerUser(String username) {
        log.trace("Entering registerUser method with username: {}", username);
        
        if (username == null || username.isEmpty()) {
            log.warn("Username is empty or null!");
            return;
        }

        log.debug("Checking if username {} is already taken...", username);

        if ("admin".equalsIgnoreCase(username)) {
            log.error("Registration failed: Username '{}' is reserved!", username);
            return;
        }

        log.info("User '{}' registered successfully!", username);
        log.trace("Exiting registerUser method...");
    }

    public void getUserDetails(String username) {
        log.trace("Entering getUserDetails method for username: {}", username);

        if ("testUser".equalsIgnoreCase(username)) {
            log.debug("Fetching details for test user.");
            log.info("User details found for '{}'", username);
        } else {
            log.warn("User '{}' not found in the system!", username);
        }

        log.trace("Exiting getUserDetails method...");
    }
}

#############################
application.properties file
#############################

logging.level.root=DEBUG
logging.level.com.example.demo.service=TRACE
logging.file.name=app.log


###################
Modify Main Class
###################

package com.example.demo;

import com.example.demo.service.UserService;
import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ApplicationContext;
import org.springframework.context.annotation.Bean;

@SpringBootApplication
public class MainApplication {

    public static void main(String[] args) {
        SpringApplication.run(MainApplication.class, args);
    }

    @Bean
    CommandLineRunner run(ApplicationContext ctx) {
        return args -> {
            UserService userService = ctx.getBean(UserService.class);
            
            userService.registerUser("john_doe");
            userService.registerUser("admin");
            userService.registerUser("");
            
            userService.getUserDetails("testUser");
            userService.getUserDetails("unknownUser");
        };
    }
}

---------------------------------------------------------------------------------------------

Expected Output for debug

TRACE  - Entering registerUser method with username: john_doe
DEBUG  - Checking if username john_doe is already taken...
INFO   - User 'john_doe' registered successfully!
TRACE  - Exiting registerUser method...

TRACE  - Entering registerUser method with username: admin
DEBUG  - Checking if username admin is already taken...
ERROR  - Registration failed: Username 'admin' is reserved!

TRACE  - Entering registerUser method with username:
WARN   - Username is empty or null!

TRACE  - Entering getUserDetails method for username: testUser
DEBUG  - Fetching details for test user.
INFO   - User details found for 'testUser'
TRACE  - Exiting getUserDetails method...

TRACE  - Entering getUserDetails method for username: unknownUser
WARN   - User 'unknownUser' not found in the system!
TRACE  - Exiting getUserDetails method...

------------------------------------------------------------------------------------------------------

Explanation of Log Levels Used

‚úÖ TRACE ‚Üí Used to track method entry and exit points. Helps when debugging method flow.
‚úÖ DEBUG ‚Üí Provides additional context, such as checking if a username exists.
‚úÖ INFO ‚Üí General information, like confirming a successful user registration.
‚úÖ WARN ‚Üí Used when input is missing (empty username) or when the user is not found.
‚úÖ ERROR ‚Üí Used for serious issues, like trying to register with a reserved username.

How to Control Log Levels in application.properties

logging.level.root=DEBUG
logging.file.name=app.log

üîπ Setting TRACE level for this package means all logs (TRACE, DEBUG, INFO, WARN, ERROR) will be printed.
üîπ If we change it to INFO, only INFO, WARN, and ERROR logs will be recorded.  	

############################################
ELK (Elasticsearch, Logstash, Kibana)
############################################

ELK (Elasticsearch, Logstash, Kibana) is a powerful stack used for log analysis, monitoring, and visualization in real-time. It helps in debugging, performance monitoring, and security auditing for applications, including Spring Boot apps.

a. Logstash -  A data processing pipeline that collects, processes, and forwards logs to Elasticsearch.

b. Elasticsearch - A search and analytics engine that stores logs and allows querying. Provides fast retrieval of logs with filtering capabilities.

c. Kibana - A visualization tool for logs stored in Elasticsearch. Helps create dashboards, graphs, and alerts for log monitoring.

###############
ELK Setup - 
###############

------------------------------------------
Setps to setup elastic search on windows
-----------------------------------------

Step 1: https://www.elastic.co/downloads/elasticsearch

Step 2: Start the service

------------------------
Steps to download kibana
------------------------

Step 1: https://www.elastic.co/downloads/kibana
Step 2: Start the service

---------------------------
Steps to download logstash
---------------------------

Step 1: https://www.elastic.co/downloads/logstash
Step 2: Start the service - Run bin/logstash -f logstash.conf

----------------------------------------------------------------------------------------------------------

$$$$$$$$$$$$$$$$$$$$$$$$$$$-----Further notes will be updated soon--------$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$


‚úÖ 1. What is SLF4J?
SLF4J (Simple Logging Facade for Java) is an abstraction layer for logging frameworks.

It allows you to use one logging API, and plug in any backend (Log4j, Logback, etc.) underneath.

So instead of writing:

java
Copy
Edit
import org.apache.log4j.Logger;
You write:

java
Copy
Edit
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
Then behind the scenes, SLF4J routes logs to Logback or Log4j ‚Äî whichever is on your classpath.

‚úÖ 2. SLF4J Example Without Lombok
java
Copy
Edit
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Service;

@Service
public class UserService {

    private static final Logger logger = LoggerFactory.getLogger(UserService.class);

    public void createUser() {
        logger.info("Creating a new user...");
    }
}
üß® A lot of repeated boilerplate code, right?

‚úÖ 3. Lombok + SLF4J = ‚ù§Ô∏è
Lombok provides the @Slf4j annotation to auto-generate the logger for you.

üîß Add Lombok Dependency in pom.xml (if not added yet):
xml
Copy
Edit
<dependency>
    <groupId>org.projectlombok</groupId>
    <artifactId>lombok</artifactId>
    <version>1.18.30</version> <!-- latest -->
    <scope>provided</scope>
</dependency>
‚úÖ Using Lombok @Slf4j in Your Class
java
Copy
Edit
import lombok.extern.slf4j.Slf4j;
import org.springframework.stereotype.Service;

@Slf4j
@Service
public class UserService {

    public void createUser() {
        log.info("Creating user...");
        log.debug("Debug info: {}", System.currentTimeMillis());
        log.warn("This is a warning!");
        log.error("This is an error!");
    }
}
‚úÖ log is automatically available ‚Äî no need to define it manually!

üî• All Lombok Logging Annotations
Annotation	Uses
@Slf4j	Uses SLF4J (org.slf4j.Logger)
@Log	Uses Java's built-in logger (java.util.logging)
@Log4j2	Uses Apache Log4j 2
@CommonsLog	Uses Apache Commons Logging
üß† Best Practices
Use @Slf4j unless you have a strong reason to use Log4j2 directly.

Use placeholders: log.info("User ID: {}", id) instead of concatenation.

Use log.debug() and log.trace() in dev mode only (controlled via application.properties or log4j2.xml).

‚úÖ Summary
Without Lombok	With Lombok
Manual logger setup	@Slf4j auto-generates it
More boilerplate	Cleaner, more readable code
Uses SLF4J directly	Uses SLF4J via Lombok
Would you like a template Spring Boot project with SLF4J + Lombok preconfigured for logging?
